@use 'globals' as *;
@use 'styles/font' as *;
@use 'styles/buttons' as *;
@use 'styles/links' as *;

@media screen {
	.IslandBlock {
		margin-bottom: between_cols(40, 133);
	}
	.IslandBlock--expanded {
		margin-bottom: between_cols(40, 167);
	}

	.IslandBlock__content {
		padding: grid-units(2) 0;
	}
	.IslandBlock--expanded > .IslandBlock__image,
	.IslandBlock--expanded > .IslandBlock__content {
		display: block;
		background-color: $color-suld-25;
		padding: between_cols(20, 120);
		@include bodyPaddingInner(margin, true);
		@include bodyPaddingInner(padding);
	}
	.IslandBlock--expanded > .IslandBlock__image,
	.IslandBlock--expanded.IslandBlock--align--left > .IslandBlock__content:first-child,
	.IslandBlock--expanded.IslandBlock--align--right > .IslandBlock__content:last-child {
		background-color: $color-esja-50;
	}

	.IslandBlock__title {
		@include HeadingStyle--small();
		margin-bottom: grid-units(3);
	}

	.IslandBlock__summary {
		@include BodyTextStyle--large();
		margin-bottom: grid-units(4);
	}

	.IslandBlock__buttons {
	}
	.IslandBlock__button {
		@include ButtonTertiaryStyle($mode: simple);
		display: block;
		margin-bottom: 0;
	}

	.IslandBlock--expanded > .IslandBlock__image {
		position: relative;
		display: block;
		overflow: hidden;
	}
	// TODO: Figure out what styles are needed for inlined <SVG/>s
	.IslandBlock--expanded > .IslandBlock__image > img {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
	}
	.IslandBlock--expanded > .IslandBlock__image > svg {
		position: absolute;
		top: 0;
		left: 50%;
		transform: translateX(-50%);
		height: 100%;
		width: auto;
	}
}

// ---------------------------------------------------------------------------

@media #{$mq-phone_phablet} {
	.IslandBlock--expanded {
		background-color: $color-suld-25;
		@include extendBackgroundWithUnderlay();
	}

	$offset: between_phone_phablet(0, 60);

	.IslandBlock--expanded.IslandBlock--align--left > .IslandBlock__content:first-child,
	.IslandBlock--expanded.IslandBlock--align--right > .IslandBlock__image,
	.IslandBlock--expanded.IslandBlock--align--right > .IslandBlock__content:last-child {
		margin-right: $offset;
	}
	.IslandBlock--expanded.IslandBlock--align--right > .IslandBlock__content:first-child,
	.IslandBlock--expanded.IslandBlock--align--left > .IslandBlock__image,
	.IslandBlock--expanded.IslandBlock--align--left > .IslandBlock__content:last-child {
		margin-left: $offset;
	}

	.IslandBlock--expanded > .IslandBlock__image {
		min-height: between_phone_phablet(175, 300);
	}
}

// ---------------------------------------------------------------------------

@media #{$mq-tablet_up} {
	.IslandBlock {
		display: flex;
		align-items: center;
	}
	.IslandBlock--align--right > .IslandBlock__image {
		order: -1;
	}

	.IslandBlock__image,
	.IslandBlock__content {
		width: cols_pct(6);
	}

	// ---------------------------------------------------------------------------

	.IslandBlock--expanded {
		flex-flow: row;
		align-items: stretch;
	}
	.IslandBlock--expanded > .IslandBlock__image,
	.IslandBlock--expanded > .IslandBlock__content,
	.IslandBlock--expanded > .IslandBlock__image {
		box-sizing: content-box;
		width: cols_pct(5, 5);
		min-height: between_tablet_up(280, 400);
		margin-bottom: between_cols(50, 105);

		@include media($mq-wide) {
			min-height: 400px;
		}
	}
	.IslandBlock--expanded.IslandBlock--align--left > .IslandBlock__content:first-child,
	.IslandBlock--expanded.IslandBlock--align--right > .IslandBlock__content:last-child {
		margin-top: between_cols(50, 105);
		margin-bottom: 0;
	}
	.IslandBlock--expanded.IslandBlock--align--right > .IslandBlock__image,
	.IslandBlock--expanded > .IslandBlock__content:first-child {
		margin-right: 0;
		padding-right: cols_pct(1, 0.5);
	}
	.IslandBlock--expanded.IslandBlock--align--left > .IslandBlock__image,
	.IslandBlock--expanded > .IslandBlock__content:last-child {
		margin-left: 0;
		padding-left: cols_pct(1, 0.5);
	}
}
