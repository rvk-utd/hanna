@use '_globals' as *;
@use 'styles/links' as *;
@use 'utils/scssutils/normalize' as *;
@use 'utils/scssutils/writeMediaFormatMarkers' as *;

@include normalize();
/*! Reykjav√≠k Design System basic CSS styles */

@font-face {
	font-family: $iconfont-name;
	font-weight: normal;
	font-style: normal;
	font-display: block;
	$version: '?' + fileChecksum('public/css/dev/i/icons.woff2');
	src: url('i/icons.woff2'+$version) format('woff2'),
		url('i/icons.woff'+$version) format('woff');
}

@font-face {
	font-family: $font-family-name;
	font-weight: $font-weight--normal;
	font-style: normal;
	font-display: block;
	src: url('/assets/L15-regular.woff2') format('woff2'),
		url('/assets/L15-regular.woff') format('woff');
}
@font-face {
	font-family: $font-family-name;
	font-weight: $font-weight--bold;
	font-style: normal;
	font-display: block;
	src: url('/assets/L15-bold.woff2') format('woff2'),
		url('/assets/L15-bold.woff') format('woff');
}

:root {
	--color-link: #{$color-link_raw};
	--color-link--hover: #{$color-link--hover_raw};
}

@media screen {
	*,
	*::before,
	*::after {
		box-sizing: border-box;
	}
	[hidden][hidden],
	[aria-hidden][aria-hidden='true'] {
		display: none;
	}

	html {
		height: 100%;
		min-width: 320px;
		box-sizing: border-box;
		overflow-x: hidden;

		// "Fix" nasty/smudgy font rendering on mac
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;

		background-color: $color-suld-0;
		color: $color-suld-200;

		font-family: $font-family;
		font-weight: 400;
		font-size: px($font-base-size);
		line-height: px($font-base-leading);
	}

	body {
	}

	*:first-child {
		margin-top: 0;
	}

	h1,
	h2,
	h3,
	h4,
	h5 {
		margin: 0;
		font-weight: inherit;
		font-size: inherit;
	}

	p,
	ul,
	ol,
	dl,
	table,
	blockquote {
		margin: 0;
	}

	p ul,
	p ol,
	p div,
	p p,
	p dl,
	p blockquote {
		@include WARNING__('No block-level tags inside <p/>');
	}

	address {
		font-style: normal;
	}

	img {
		width: 100%;
		height: auto;
		vertical-align: top;
	}

	table {
		border-collapse: separate;
	}
	th,
	td {
		padding: 0;
	}

	abbr {
		cursor: help;
	}

	a[href^='tel:'] {
		color: inherit;
	}
	a {
		@include LinkStyle();
	}
	a[href='#'],
	a:not([href]) {
		@include WARNING__('Use <button/> instead');
	}
	button[href] {
		@include WARNING__('Use <a href=""/>');
	}

	button {
		@include buttonReset();
	}
	button:disabled {
		cursor: auto;
	}

	ul {
		list-style: none;
		margin: 0;
		padding: 0;
	}

	input,
	textarea,
	select {
		font-size: inherit;
		line-height: inherit;
		padding: 0;
	}
	[disabled],
	[aria-disabled='true'] {
		cursor: not-allowed;
	}

	ol {
		padding-left: 1.5em;
	}
	li ol {
		margin-bottom: 0;
	}
	ol {
		counter-reset: ol;
		list-style: none;
	}
	ol > li::before {
		counter-increment: ol;
		content: counter(ol) '. ';
		float: left;
		min-width: 2.5em;
		text-align: right;
		margin: 0 0.5em -0.5em -2.8em;
	}
	ol[type='a'], // <-- NOTE: non-scripted <ol> styling is limited
	ol[data-oltype='a'] > li::before {
		content: counter(ol, lower-alpha) '. ';
	}
	ol[data-oltype='A'] > li::before {
		content: counter(ol, upper-alpha) '. ';
	}
	ol[type='i'], // <-- NOTE: non-scripted <ol> styling is limited
	ol[data-oltype='i'] > li::before {
		content: counter(ol, lower-roman) '. ';
	}
	ol[data-oltype='I'] > li::before {
		content: counter(ol, upper-roman) '. ';
	}
	:not(ul):not(ol) > li {
		@include WARNING__('<li/> must be inside <ol/> or <ul/>');
	}
	ol > :not(li),
	ul > :not(li) {
		@include WARNING__('Lists may only contain <ll/>s');
	}

	fieldset {
		padding: 0;
		border: 0;
		margin: 0;
	}
	legend {
		float: left; // HACK: Trigger correct positioning within <fieldset>
	}
	:not(fieldset) > legend {
		@include WARNING__('<legend/> must be first-child of <fieldset/>');
	}
	legend + * {
		clear: both;
	}
}

@include writeMediaFormatMarkers($mediaFormats, 'body', isDevMode());
