@use '../_globals' as *;
@use 'font' as *;

@mixin TogglerGroup($BEM) {
	.#{$BEM}Group--inline {
		margin: 0 prem(-15);
		display: flex;
		flex-flow: row wrap;
	}
	.#{$BEM}Group--inline > .#{$BEM} {
		margin-left: prem(15);
		margin-right: prem(15);
	}
}

@mixin TogglerKnob($BEM, $radio: ($BEM==Radio)) {
	.#{$BEM} {
		// margin-bottom: grid-units(2);
	}

	.#{$BEM}__input {
		@include sr-only();
	}
	.#{$BEM}__label {
		display: inline-block;
		padding: prem(8) 0;
		padding-left: prem(36);
		position: relative;
	}
	.#{$BEM}__label::before {
		@include icon('');
		float: left;
		margin-top: prem(2);
		margin-left: prem(-36);
		width: prem(20);
		height: prem(20);
		line-height: prem(18);
		@if $radio {
			font-size: prem(14);
			border-radius: 50%;
		} @else {
			font-size: prem(12);
		}
		border: prem(1) solid $color-suld-150;
		transition: all 150ms ease-in-out;
		transition-property: box-shadow, border-color, background-color;
	}

	// Focus + Hover
	.#{$BEM}__label:hover::before,
	.#{$BEM}__input:focus + .#{$BEM}__label::before {
		border-color: $color-faxafloi-100;
		box-shadow: inset 0 0 0 2px $color-faxafloi-100;
	}

	// Checked
	.#{$BEM}__input:checked + .#{$BEM}__label::before {
		@if $radio {
			content: $icons-radioball;
		} @else {
			content: $icons-checkmark;
		}
		border-color: transparent;
		background-color: $color-faxafloi-100;
		color: $color-suld-0;
	}

	// Invalid
	.#{$BEM}__input[aria-invalid='true'] + .#{$BEM}__label {
		color: $color-heidmork-100;
	}

	// Disabled
	.#{$BEM}__input:disabled + .#{$BEM}__label {
		color: $color-suld-150;
	}
	.#{$BEM}__input:disabled + .#{$BEM}__label::before {
		border-color: $color-suld-100;
		background-color: $color-suld-50;
		color: $color-suld-100;
		box-shadow: none;
	}
	// Disabled + Checked
	@if $radio {
		.#{$BEM}__input:disabled:checked + .#{$BEM}__label::before {
			background-color: $color-suld-100;
			color: $color-suld-50;
		}
	}

	// __error
	@if (not $radio) {
		.#{$BEM}__error {
			color: $color-heidmork-150;
			padding-left: prem(36);
		}
	}
}

@mixin FormInput() {
	@include BodyTextStyle--large();
	border: prem(1) solid $color-suld-100;
	transition: all 300ms ease-in-out;
	transition-property: padding, color, border-color;
	box-sizing: content-box;
	border-radius: prem(3);
	padding: prem(14) grid-units(2) prem(13);

	&::placeholder {
		@include BodyTextStyle--small();
		color: $color-suld-150;
	}

	.FormField__input:hover,
	.FormField__input:focus,
	.FormField__input:active {
		border-color: $color-faxafloi-100;
		outline: 0;
	}
}
