@use '../globals' as *;

@mixin _FocusedFrame(
	$frameOffset,
	$borderRadius,
	$borderColor: $color-faxafloi-100,
	$borderWidth: prem(2)
) {
	$frameOffsetNegative: $frameOffset * -1;

	outline: none;

	&::after {
		content: '';
		position: absolute;
		top: $frameOffsetNegative;
		right: $frameOffsetNegative;
		bottom: $frameOffsetNegative;
		left: $frameOffsetNegative;
		border: $borderWidth solid $borderColor;
		border-radius: $borderRadius;
	}
}

@mixin ButtonStyle($frameOffset: prem(4), $text-color: $color-white) {
	$borderRadius: prem(3);
	// @include buttonReset(); // <-- This is NOT needed as `-basics` has global button reset

	// normalize links
	white-space: nowrap;
	vertical-align: middle;
	text-decoration: none;

	color: $text-color;
	background-color: $color-faxafloi-100;
	display: inline-block;
	line-height: prem(56);
	padding: 0 prem(20);
	margin-right: prem(30);
	margin-bottom: prem(16);
	text-align: center;
	border-radius: $borderRadius;
	position: relative;
	transition: box-shadow 150ms ease-in-out;
	width: max-content;
	max-width: 100%;
	min-width: between_phone_netbook(100, 270);
	font-size: prem($font-btn-size);

	@media #{$mq-wide} {
		min-width: 270px;
	}

	&:hover,
	&:focus,
	&:active {
		text-decoration: none;
		box-shadow: 0 prem(12) prem(16) rgba(black, 0.09);
		color: $text-color;
	}
	&:active {
		background-color: $color-faxafloi-150;
	}
	&:focus {
		@include _FocusedFrame($frameOffset, $borderRadius);
	}

	&[disabled],
	&[aria-disabled='true'] {
		background-color: $color-faxafloi-50;
		opacity: 0.5;
	}

	&--small {
		line-height: prem(40);
		padding-left: prem(16);
		padding-right: prem(16);
		min-width: between_phone_netbook(70, 170);

		@media #{$mq-wide} {
			min-width: 170px;
		}
	}
}

@mixin ButtonTertiaryStyle() {
	$borderRadius: prem(8);
	$dashWidth: prem(16);
	$dashWidth--hover: prem(48);

	@media screen {
		position: relative;
		display: inline-block;
		width: max-content;
		vertical-align: middle;
		white-space: nowrap;
		font-size: prem($font-btn-size);
		line-height: prem(28);
		padding-right: $dashWidth--hover - $dashWidth;
		margin-right: prem(30);
		margin-bottom: prem(16);
		color: $color-faxafloi-100;
		font-weight: 700;
		transition: all 300ms ease-in-out;

		&::before {
			content: '';
			width: $dashWidth;
			height: prem(2);
			display: inline-block;
			vertical-align: 0.3em;
			background-color: $color-faxafloi-100;
			margin-right: prem(16);
			transition: inherit;
		}

		&:hover,
		&:focus,
		&:active {
			padding-right: prem(0);
			text-decoration: none;
		}
		&:hover::before,
		&:focus::before,
		&:active::before {
			width: $dashWidth--hover;
		}

		&:focus {
			@include _FocusedFrame(0, prem(8), $color-faxafloi-75, prem(1));
		}

		&[disabled],
		&[aria-disabled='true'] {
			opacity: 0.5;
		}

		&--small {
			font-weight: 400;
		}
	}
}
